(()=>{let e=$(".card-group"),s=" ";window.indexedDB?(console.log("IndexDb est là"),window.indexedDB.open("infosGalerie",1).onupgradeneeded=function(e){const s=e.target.result;s.objectStoreNames.contains("infosGalerie")||s.createObjectStore("infosGalerie")}):console.log("IndexDb n'est pas là");const o=["/","./style.css","https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css","./script.js","https://code.jquery.com/jquery-3.5.1.slim.min.js","https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js","https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js","https://cdnjs.cloudflare.com/ajax/libs/localforage/1.7.3/localforage.min.js","./img/icons/apple-touch-icon-180x180.png","./img/icons/camera64.png","./img/icons/camera128.png","./img/icons/camera256.png","./img/icons/camera512.png"];"caches"in window?caches.open("Galerie-PWA-app-cache").then((e=>{e.addAll(o)})).catch((e=>{console.log(e)})):console.log("Pas de cache détecté"),"serviceWorker"in navigator?window.addEventListener("load",(()=>{navigator.serviceWorker.register("./service-workers/service-worker.js").then((e=>{console.log("Service worker lancé dans le scope : ",e.scope)})).catch((e=>{console.error("Erreur dans l'enregistrement du service worker : ",e)})),navigator.serviceWorker.ready.then((function(e){return e.sync.register("synchroImages")}))})):console.warn("Les services workers ne sont pas supportés"),$(".alert").hide(),window.addEventListener("offline",(()=>{$(".alert-danger").show(),setTimeout((()=>$(".alert").hide()),5e3)})),window.addEventListener("online",(()=>{$(".alert-success").show(),setTimeout((()=>$(".alert").hide()),5e3)}));var n=new Headers({"Access-Control-Allow-Origin":"*","Content-Type":"application/json"});fetch("https://raw.githubusercontent.com/Nearrivers/Galerie/master/src/public/img/images.json",{method:"GET",headers:n,mode:"cors",cache:"default"}).then((e=>e.json())).then((o=>{console.log(o),function(o){for(let n of o)s=`<div class="col-md-3"><div class="card mb-3" style="max-width: 18rem;"><img src="${n.chemin}" class="card-img-top" alt="..."><div class="card-body"><h5 class="card-title">${n.alt}</h5><a href="/" id="like" class="btn btn-outline-primary">J'aime</a></div></div></div>`,e.append(s)}(o)})).catch((e=>{console.log(e)}))})();